--- a/cmake/OpenCVFindLibsVideo.cmake	2017-01-04 21:35:32.724422284 -0800
+++ b/cmake/OpenCVFindLibsVideo.cmake	2017-01-04 22:18:48.785188975 -0800
@@ -218,12 +218,21 @@
   if(WIN32 AND NOT ARM)
     include("${OpenCV_SOURCE_DIR}/3rdparty/ffmpeg/ffmpeg.cmake")
     set(HAVE_FFMPEG TRUE)
-  elseif(PKG_CONFIG_FOUND)
-    ocv_check_modules(FFMPEG libavcodec libavformat libavutil libswscale)
-    ocv_check_modules(FFMPEG_libavresample libavresample)
-    if(FFMPEG_libavresample_FOUND)
-      ocv_append_build_options(FFMPEG FFMPEG_libavresample)
-    endif()
+  else() #if(PKG_CONFIG_FOUND)
+    #ocv_check_modules(FFMPEG libavcodec libavformat libavutil libswscale)
+    #ocv_check_modules(FFMPEG_libavresample libavresample)
+    #if(FFMPEG_libavresample_FOUND)
+    #  ocv_append_build_options(FFMPEG FFMPEG_libavresample)
+    #endif()
+    set(HAVE_FFMPEG TRUE)
+    set(FFMPEG_FOUND 1)
+    set(FFMPEG_LIBRARIES -L${FFMPEG_LIBRARY_DIRS} -lavformat -lavcodec -lswscale -lswresample -lavutil -lz)
+    set(FFMPEG_libavcodec_FOUND 1)
+    set(FFMPEG_libavformat_FOUND 1)
+    set(FFMPEG_libavutil_FOUND 1)
+    set(FFMPEG_libswscale_FOUND 1)
+    set(FFMPEG_libavresample_FOUND 1)
+    set(FFMPEG_libavresample_libavresample_FOUND 1)
     if(HAVE_FFMPEG)
       try_compile(__VALID_FFMPEG
           "${OpenCV_BINARY_DIR}"
@@ -234,15 +243,15 @@
           OUTPUT_VARIABLE TRY_OUT
       )
       if(NOT __VALID_FFMPEG)
-        #message(FATAL_ERROR "FFMPEG: test check build log:\n${TRY_OUT}")
+        message(FATAL_ERROR "FFMPEG: test check build log:\n${TRY_OUT}")
         message(STATUS "WARNING: Can't build ffmpeg test code")
         set(HAVE_FFMPEG FALSE)
       else()
         ocv_append_build_options(VIDEOIO FFMPEG)
       endif()
     endif()
-  else()
-    message(STATUS "Can't find ffmpeg - 'pkg-config' utility is missing")
+  #else()
+  #  message(STATUS "Can't find ffmpeg - 'pkg-config' utility is missing")
   endif()
 endif(WITH_FFMPEG)
 
